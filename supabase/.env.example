# Supabase Edge Functions local env template
# Values are placeholders only. Use local overrides in non-committed .env files.

SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=YOUR_LOCAL_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_LOCAL_SERVICE_ROLE_KEY

OPENAI_API_KEY=SET_IN_SECRET_MANAGER
GOOGLE_OAUTH_CLIENT_ID=SET_IN_SECRET_MANAGER
GOOGLE_OAUTH_CLIENT_SECRET=SET_IN_SECRET_MANAGER
TOKEN_ENCRYPTION_KEY=SET_IN_SECRET_MANAGER
TOKEN_ENCRYPTION_KEY_VERSION=1
# Optional rotation format (preferred for staged key rollovers):
# TOKEN_ENCRYPTION_KEYS=1:BASE64_OLD_KEY,2:BASE64_NEW_KEY

OWNER_APP_URL=http://localhost:5173
WIDGET_ORIGIN=http://localhost:8080
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:54321/functions/v1/drive_connect

# Phase 4 ingestion controls
INGEST_MAX_RUNNING_PER_PROJECT=3
INGEST_MAX_QUEUED_PER_PROJECT=100
INGEST_RUNNER_MAX_JOBS_PER_INVOCATION=1
INGEST_JOB_LEASE_SECONDS=300
INGEST_MAX_ATTEMPTS=5
INGEST_CHUNK_SIZE_CHARS=1200
INGEST_CHUNK_OVERLAP_CHARS=200
INGEST_MAX_CHUNKS_PER_SOURCE=300
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_BATCH_SIZE=64
PDF_LOW_TEXT_MIN_CHARS=600
PDF_MAX_BYTES_PER_FILE=10485760
PDF_MAX_FALLBACKS_PER_RUN=2
OPENAI_PDF_EXTRACTION_MODEL=gpt-4.1-mini
